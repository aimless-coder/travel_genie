import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: New Delhi, for 4 Days for a Couple with a moderate budget, give me Hotels list with hotelName, hotelAddress, price, shareable hotelImageURL, geoCoordinates, rating and suggest itinerary for each day with day number and theme with placeName, placeDetails, placeImageURL, geoCoordinates, ticketPricing, best time to visit on clock each of the location for 4 days with each day plan in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "tripDetails": {\n    "location": "New Delhi",\n    "duration": "4 Days",\n    "travelers": "Couple",\n    "budget": "Moderate"\n  },\n  "hotels": [\n    {\n      "hotelName": "The Bloomrooms @ New Delhi Railway Station",\n      "hotelAddress": "8590-93, Arakashan Road, Paharganj, New Delhi, Delhi 110055",\n      "price": "₹2500 - ₹3500 per night",\n      "hotelImageURL": "https://media-cdn.tripadvisor.com/media/photo-s/0d/c2/25/b7/the-bloomrooms-new-delhi.jpg",\n       "geoCoordinates": {\n        "latitude": 28.64427,\n        "longitude": 77.21518\n        },\n      "rating": 4.2\n    },\n    {\n      "hotelName": "Hotel Jivitesh",\n      "hotelAddress": "8A/30, W.E.A, Karol Bagh, New Delhi, Delhi 110005",\n      "price": "₹3000 - ₹4000 per night",\n       "hotelImageURL": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/6b/98/36/hotel-jivitesh-delhi.jpg?w=700&h=-1&s=1",\n      "geoCoordinates": {\n          "latitude": 28.65045,\n           "longitude": 77.19187\n        },\n      "rating": 4.0\n    },\n     {\n      "hotelName": "Hotel The Royal Plaza",\n      "hotelAddress": "19, Ashoka Road, New Delhi, Delhi 110001",\n       "price": "₹4000 - ₹5000 per night",\n       "hotelImageURL": "https://media-cdn.tripadvisor.com/media/photo-s/1b/f5/8f/c6/hotel-the-royal-plaza.jpg",\n       "geoCoordinates": {\n           "latitude": 28.62582,\n           "longitude": 77.21976\n       },\n      "rating": 4.3\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "theme": "Old Delhi Charm",\n      "places": [\n        {\n          "placeName": "Jama Masjid",\n          "placeDetails": "One of India\'s largest mosques, showcasing Mughal architecture. Climb the minaret for panoramic city views.",\n           "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/a/a8/Jama_Masjid%2C_Delhi_04.jpg",\n           "geoCoordinates": {\n                "latitude": 28.6509,\n                "longitude": 77.2334\n           },\n           "ticketPricing": "Free entry (small fee for photography and minaret climb)",\n           "bestTimeToVisit": "8:00 AM - 10:00 AM or 4:00 PM - 6:00 PM"\n        },\n        {\n          "placeName": "Chandni Chowk",\n          "placeDetails": "A bustling market, a food lover\'s paradise with various street food stalls and shops. Experience the vibrant chaos.",\n           "placeImageURL":"https://www.holidify.com/images/cmsuploads/compressed/1920x1080_Chandni_Chowk_20181022174128.jpg",\n           "geoCoordinates": {\n               "latitude": 28.6507,\n               "longitude": 77.2305\n            },\n          "ticketPricing": "Free entry",\n          "bestTimeToVisit": "10:00 AM - 1:00 PM (for food) or 3:00 PM - 6:00 PM (for shopping)"\n        },\n        {\n          "placeName": "Red Fort (Lal Qila)",\n          "placeDetails": "A historic fort built by Mughal emperor Shah Jahan, explore its museum, Diwan-i-Aam and other iconic structures.",\n           "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/2/20/Red_Fort%2C_Delhi_%2850382976017%29.jpg",\n            "geoCoordinates": {\n                 "latitude": 28.6508,\n                "longitude": 77.2401\n            },\n          "ticketPricing": "₹80 (Indians), ₹500 (Foreigners)",\n          "bestTimeToVisit": "2:00 PM - 5:00 PM"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "theme": "Mughal & British Era",\n       "places":[\n       {\n          "placeName": "Humayun\'s Tomb",\n          "placeDetails": "A precursor to the Taj Mahal, this is a beautiful Mughal tomb with impressive gardens. A must see in Delhi.",\n           "placeImageURL":"https://upload.wikimedia.org/wikipedia/commons/4/40/Humayun%27s_Tomb_%28Delhi%2C_India%29.jpg",\n           "geoCoordinates": {\n                "latitude": 28.5932,\n                "longitude": 77.2507\n            },\n          "ticketPricing":"₹40 (Indians), ₹600 (Foreigners)",\n           "bestTimeToVisit": "9:00 AM - 11:00 AM"\n        },\n        {\n          "placeName":"Qutub Minar",\n           "placeDetails":"A UNESCO World Heritage site with towering minaret made of red sandstone and marble, with surrounding ruins.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Qutub_Minar_2014.jpg/1200px-Qutub_Minar_2014.jpg",\n          "geoCoordinates": {\n                "latitude": 28.5244,\n                "longitude": 77.1856\n            },\n           "ticketPricing":"₹40 (Indians), ₹600 (Foreigners)",\n          "bestTimeToVisit":"11:30 AM - 1:30 PM"\n        },\n         {\n         "placeName": "India Gate",\n         "placeDetails":"A war memorial, a must-see place in Delhi, you can take a leisurely walk around the gate, also go for boating there.",\n         "placeImageURL":"https://upload.wikimedia.org/wikipedia/commons/c/c7/India_gate_new_delhi_India_20170902_090906.jpg",\n         "geoCoordinates": {\n                "latitude": 28.6129,\n                "longitude": 77.2295\n            },\n          "ticketPricing": "Free Entry",\n          "bestTimeToVisit": "5:00 PM - 7:00 PM"\n        }\n       ]\n    },\n    {\n      "day": 3,\n      "theme": "Spiritual & Cultural Immersion",\n      "places": [\n        {\n          "placeName": "Akshardham Temple",\n          "placeDetails": "A sprawling complex dedicated to Swami Narayan, known for its stunning architecture, exhibitions and boat ride.",\n           "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Akshardham_Temple%2C_Delhi.jpg/1200px-Akshardham_Temple%2C_Delhi.jpg",\n           "geoCoordinates": {\n                "latitude": 28.6129,\n                "longitude": 77.2295\n            },\n           "ticketPricing": "Free entry (exhibition and boat ride tickets extra)",\n          "bestTimeToVisit": "10:00 AM - 2:00 PM"\n        },\n        {\n          "placeName": "Gurudwara Bangla Sahib",\n          "placeDetails": "A serene Sikh shrine with a golden dome, explore the sacred pond and community kitchen. Experience the langar.",\n           "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/6/6b/Gurudwara_Bangla_Sahib.jpg",\n            "geoCoordinates": {\n                "latitude": 28.6289,\n                "longitude": 77.2085\n            },\n           "ticketPricing": "Free entry",\n          "bestTimeToVisit": "3:00 PM - 5:00 PM"\n        },\n        {\n            "placeName": "Dilli Haat (INA)",\n            "placeDetails": "A vibrant open-air market with crafts, food, and cultural performances from various Indian states.",\n             "placeImageURL":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Dilli_Haat_INA%2C_Delhi.jpg/1200px-Dilli_Haat_INA%2C_Delhi.jpg",\n              "geoCoordinates": {\n                "latitude": 28.5693,\n                "longitude": 77.2104\n            },\n            "ticketPricing": "₹60 (Adults), ₹30 (Children)",\n            "bestTimeToVisit": "6:00 PM - 8:00 PM"\n\n         }\n      ]\n    },\n     {\n      "day": 4,\n      "theme": "Modern Delhi & Departure",\n      "places": [\n        {\n          "placeName": "Lotus Temple",\n          "placeDetails": "A modern architectural marvel shaped like a lotus flower, a Baháʼí House of Worship, offering peace and tranquility.",\n          "placeImageURL":"https://upload.wikimedia.org/wikipedia/commons/0/0b/Lotus_Temple_%28New_Delhi%2C_India%29.jpg",\n           "geoCoordinates": {\n                "latitude": 28.5535,\n                "longitude": 77.2588\n            },\n          "ticketPricing": "Free entry",\n          "bestTimeToVisit": "9:00 AM - 11:00 AM"\n        },\n        {\n          "placeName": "National Museum",\n          "placeDetails": "Explore India\'s rich history, art, and culture with artifacts from different eras of the nation.",\n           "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/9/9a/National_Museum_New_Delhi_India_20190409_121615.jpg",\n           "geoCoordinates": {\n                "latitude": 28.6142,\n                "longitude": 77.2246\n            },\n           "ticketPricing": "₹20 (Indians), ₹650 (Foreigners)",\n            "bestTimeToVisit":"11:30 AM - 1:30 PM"\n         },\n         {\n          "placeName": "Connaught Place (CP)",\n          "placeDetails":"A shopper\'s paradise with a colonial charm, known for its boutiques, cafes, restaurants and high-street stores.",\n          "placeImageURL":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Connaught_Place_New_Delhi_India.jpg/1200px-Connaught_Place_New_Delhi_India.jpg",\n          "geoCoordinates": {\n                "latitude": 28.6328,\n                "longitude": 77.2192\n            },\n          "ticketPricing": "Free entry",\n           "bestTimeToVisit": "3:00 PM - 5:00 PM (for shopping and snacks) "\n          }\n        ]\n    }\n  ]\n}\n```',
        },
      ],
    },
  ],
});
